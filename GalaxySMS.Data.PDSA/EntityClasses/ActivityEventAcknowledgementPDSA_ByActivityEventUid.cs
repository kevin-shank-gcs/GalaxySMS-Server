using System;
using System.Collections.Generic;
using System.Linq;
using GalaxySMS.Business.Entities;
using GalaxySMS.Common.Enums;
using PDSA.Validation;

namespace GalaxySMS.EntityLayer
{
    /// <summary>
    /// This class is an extension of the ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA Entity class
    /// This class is generated by the Haystack Code Generator for .NET.
    /// You may add additional properties to this class. 
    /// </summary>
    //[Serializable]
    public partial class ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA : PDSAEntityBase
    {
        #region Constructor
        /// <summary>
        /// Constructor for the ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA class
        /// </summary>
        public ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA() : base()
        {
            ClassName = "ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA";
        }
        #endregion
    }

    /// <summary>
    /// This class is used when you wish to create a collection of ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA classes.
    /// You may add additional methods to this class.
    /// </summary>
    public class ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSACollection : List<ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA>
    {

        /// <summary>
        /// Get all ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA objects where IsDirty=True
        /// </summary>
        /// <returns>A List of ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA Objects</returns>
        public List<ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA> GetChanged()
        {
            return (from item in this
                    where item.IsDirty == true
                    select item).ToList<ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA>();
        }

        /// <summary>
        /// Get all ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA objects where IsSelected=True
        /// </summary>
        /// <returns>A List of ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA Objects where IsSelected=True</returns>
        public List<ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA> GetSelected()
        {
            return (from item in this
                    where item.IsSelected == true
                    select item).ToList<ActivityEventAcknowledgementPDSA_ByActivityEventUidPDSA>();
        }

        public ICollection<AcknowledgedAlarmBasicData> ToAcknowledgedAlarmBasicDataCollection()
        {
            var results = new HashSet<AcknowledgedAlarmBasicData>();
            foreach (var item in this)
            {
                var o = new AcknowledgedAlarmBasicData
                {
                    AlarmEventAcknowledgmentUid = item.ActivityEventAcknowledgementUid,
                    ActivityEventUid = item.ActivityEventUid,
                    DeviceEntityId = item.DeviceEntityId,
                    DeviceUid = item.DeviceUid,
                    Response = item.Response,
                    AckedByUserId = item.AckedByUserId,
                    AckedByUserDisplayName = item.AckedByUserDisplayName,
                    AckedDateTime = item.AckedDateTime,
                    AckedUpdatedDateTime = item.AckedUpdatedDateTime
                };
                results.Add(o);
                if (item.ActivityEventCategory.ToLower() == PanelActivityEventCategory.Door.ToString().ToLower())
                {
                    o.ActivityEventCategory = PanelActivityEventCategory.Door;
                }
                else if (item.ActivityEventCategory.ToLower() == PanelActivityEventCategory.Panel.ToString().ToLower())
                {
                    o.ActivityEventCategory = PanelActivityEventCategory.Panel;
                }
                else if (item.ActivityEventCategory.ToLower() == PanelActivityEventCategory.Input.ToString().ToLower())
                {
                    o.ActivityEventCategory = PanelActivityEventCategory.Input;
                }
            }
            return results;
        }

    }
}
