using System;
using System.Collections.Generic;
using System.Data;

using PDSA.Common;
using PDSA.DataLayer;
using PDSA.DataLayer.DataClasses;
using PDSA.Validation;


using GalaxySMS.EntityLayer;
using GalaxySMS.ValidationLayer;
using GalaxySMS.DataLayer;
using GCS.Core.Common.Logger;

namespace GalaxySMS.BusinessLayer
{
  /// <summary>
  /// This class is used when you need to add, edit, delete, select and validate data for the AccessPortalCommandChoicePDSA table.
  /// This class is generated by the Haystack Code Generator for .NET.
  /// DO NOT modify this class as it is intended to be re-generated.
  /// </summary>
  public partial class AccessPortalCommandChoicePDSAManager : PDSADataClassManagerBase
  {
	#region Constructors
	/// <summary>
	/// Constructor for the AccessPortalCommandChoicePDSAManager class
	/// </summary>
	public AccessPortalCommandChoicePDSAManager() : base()
	{
	  // The base constructor calls the Init() method
	}

	/// <summary>
	/// Constructor for the AccessPortalCommandChoicePDSAManager class
	/// </summary>
	/// <param name="dataProvider">An instance of a PDSADataProvider</param>
	public AccessPortalCommandChoicePDSAManager(PDSADataProvider dataProvider) : base(dataProvider)
	{
	  // The base constructor calls the Init() method
	}

	/// <summary>
	/// Constructor for the AccessPortalCommandChoicePDSAManager class
	/// </summary>
	/// <param name="dataProviderName">The name of the DataProvider to use for all data access</param>
	public AccessPortalCommandChoicePDSAManager(string dataProviderName) : base(dataProviderName)
	{
	  // The base constructor calls the Init() method
	}
	#endregion
	
	#region Private variables
	private AccessPortalCommandChoicePDSA _Entity = null;
	private AccessPortalCommandChoicePDSA _SearchEntity = null;
	#endregion

	#region Public Properties
	/// <summary>
	/// Get/Set the entity class. This is the class that contains one property for each column in the table.
	/// </summary>
	public AccessPortalCommandChoicePDSA Entity
	{
	  get { return _Entity; }
	  set
	  {
		_Entity = value;
		if (Validator != null)
		  Validator.Entity = value;
		if (DataObject != null)
		  DataObject.Entity = value;
	  }
	}
	
	/// <summary>
	/// Get/Set the Entity class used for searching
	/// </summary>
	public AccessPortalCommandChoicePDSA SearchEntity
	{
	  get
	  {
		// Create Search Entity Class if not created
		if (_SearchEntity == null)
		{
		  _SearchEntity = new AccessPortalCommandChoicePDSA();
		  InitSearchFilter();
		}

		return _SearchEntity;
	  }
	  set { _SearchEntity = value; }
	}

	/// <summary>
	/// Get/Set the validator class. This is the class that contains the business rules for the Entity class.
	/// </summary>
	public AccessPortalCommandChoicePDSAValidator Validator { get; set; }
	/// <summary>
	/// Get/Set the data class that contains the CRUD logic for loading the Entity class
	/// </summary>
	public AccessPortalCommandChoicePDSAData DataObject { get; set; }
	#endregion

	#region Init Method
	/// <summary>
	/// Initialize this class to a valid start state
	/// </summary>
	protected override void Init()
	{
	  // Create Entity Class if not created
	  if(Entity == null)
	  {
		Entity = new AccessPortalCommandChoicePDSA();

		// Set any default values on the Entity object
		InitEntityObject();
	  }

	  // Create Validator Class
	  if(Validator == null)
		Validator = new AccessPortalCommandChoicePDSAValidator(Entity);

	  // Create Data Class if not created
	  if(DataObject == null)
		DataObject = new AccessPortalCommandChoicePDSAData(DataProvider, Entity, Validator);
	  else
	  {
		DataObject.DataProvider = DataProvider;
		DataObject.ValidatorObject = Validator;
		DataObject.Entity = Entity;
	  }
		
	  DataObject.CommandTimeout = Globals.Instance.SqlCommandTimeout;

	  ClassName = "AccessPortalCommandChoicePDSAManager";
	}
	#endregion
	
	#region DictionaryToEntity Method
	/// <summary>
	/// Takes the filled Dictionary object and puts the values into the Entity object
	/// </summary>
	/// <param name="values">A Dictionary object</param>
	/// <returns>An EmployeeType object</returns>
	public AccessPortalCommandChoicePDSA DictionaryToEntity(Dictionary<string, string> values)
	{
	  AccessPortalCommandChoicePDSA ret = new AccessPortalCommandChoicePDSA();

	  // Initialize Entity Object
	  InitEntityObject(ret);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.AccessPortalCommandChoiceUid))
		ret.AccessPortalCommandChoiceUid = PDSAProperty.ConvertToGuid(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.AccessPortalCommandChoiceUid]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.AccessPortalCommandUid))
		ret.AccessPortalCommandUid = PDSAProperty.ConvertToGuid(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.AccessPortalCommandUid]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.Display))
		ret.Display = PDSAString.ConvertToStringTrim(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.Display]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.DisplayResourceKey))
		ret.DisplayResourceKey = PDSAProperty.ConvertToGuid(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.DisplayResourceKey]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.Description))
		ret.Description = PDSAString.ConvertToStringTrim(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.Description]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.DescriptionResourceKey))
		ret.DescriptionResourceKey = PDSAProperty.ConvertToGuid(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.DescriptionResourceKey]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.ChoiceTypeCode))
		ret.ChoiceTypeCode = Convert.ToInt32(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.ChoiceTypeCode]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.ApproxWaitTime))
		ret.ApproxWaitTime = Convert.ToInt32(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.ApproxWaitTime]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.InsertName))
		ret.InsertName = PDSAString.ConvertToStringTrim(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.InsertName]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.InsertDate))
		ret.InsertDate = GCS.Core.Common.Extensions.DateTimeExtensions.ToDateTimeOffset(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.InsertDate]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.UpdateName))
		ret.UpdateName = PDSAString.ConvertToStringTrim(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.UpdateName]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.UpdateDate))
		ret.UpdateDate = GCS.Core.Common.Extensions.DateTimeExtensions.ToDateTimeOffset(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.UpdateDate]);

	  if (values.ContainsKey(AccessPortalCommandChoicePDSAValidator.ColumnNames.ConcurrencyValue))
		ret.ConcurrencyValue = Convert.ToInt16(values[AccessPortalCommandChoicePDSAValidator.ColumnNames.ConcurrencyValue]);

	  return ret;
	}
	#endregion
	
	#region BuildCollection Method
	/// <summary>
	/// Returns a collection of AccessPortalCommandChoicePDSA classes based on the filters set
	/// You can set the SearchEntity object with values to search on partial data
	/// prior to calling this method to filter the results
	/// </summary>
	/// <returns>AccessPortalCommandChoicePDSACollection</returns>
	public AccessPortalCommandChoicePDSACollection BuildCollection()
	{
	  AccessPortalCommandChoicePDSACollection coll = new AccessPortalCommandChoicePDSACollection();
	  AccessPortalCommandChoicePDSA entity = null;
	  DataSet ds;

	  try
	  {
		DataObject.Entity = Entity;
		ds = DataObject.GetDataSet();

		if (ds.Tables.Count > 0)
		{
		  foreach (DataRow dr in ds.Tables[ds.Tables.Count - 1].Rows)
		  {
			entity = DataObject.CreateEntityFromDataRow(dr);
		  
			// You can set any additional properties here
		  
			coll.Add(entity);
		  }
		}
	  }
	  catch (Exception ex)
	  {
#if BuildCollection_LogFullException
		  System.Diagnostics.Debug.WriteLine($"Exception in {System.Reflection.MethodBase.GetCurrentMethod().DeclaringType?.FullName}=>{System.Reflection.MethodBase.GetCurrentMethod().Name}:{ex}");
#else
		  System.Diagnostics.Debug.WriteLine(ex.Message);
		  var innerEx = ex.InnerException;
		  while (innerEx != null)
		  {
			System.Diagnostics.Debug.WriteLine(innerEx.Message);
			innerEx = innerEx.InnerException;
		  }
#endif
	}
	  return coll;
	}

	/// <summary>
	/// Build collection from a DataSet returned from a stored procedure
	/// </summary>
	/// <param name="ds">A DataSet</param>
	/// <returns>A collection of AccessPortalCommandChoicePDSA objects</returns>
	public AccessPortalCommandChoicePDSACollection BuildCollection(DataSet ds)
	{
	  AccessPortalCommandChoicePDSACollection coll = new AccessPortalCommandChoicePDSACollection();

	  if (ds != null)
	  {
		if (ds.Tables.Count > 0)
		{
		  foreach (DataRow item in ds.Tables[0].Rows)
		  {
			coll.Add(DataObject.CreateEntityFromDataRow(item));
		  }
		}
	  }

	  return coll;
	}
	
	/// <summary>
	/// Build collection from a DataTable returned from a stored procedure
	/// </summary>
	/// <param name="dt">A DataTable</param>
	/// <returns>A collection of AccessPortalCommandChoicePDSA objects</returns>
	public AccessPortalCommandChoicePDSACollection BuildCollection(DataTable dt)
	{
	  DataSet ds = new DataSet();

	  ds.Tables.Add(dt);

	  return BuildCollection(ds);
	}
	#endregion

	#region GetCollectionAsJSON Method
	/// <summary>
	/// Returns a collection of AccessPortalCommandChoicePDSA objects as a JSON formatted string
	/// </summary>
	/// <returns>A JSON formatted string</returns>
	public string GetCollectionAsJSON()
	{
	  return PDSAString.GetAsJSON(typeof(AccessPortalCommandChoicePDSACollection), BuildCollection());
	}
	#endregion

	#region GetDataSet Methods
	/// <summary>
	/// Get DataSet with all rows or with any filters you have set
	/// </summary>
	/// <returns>A DatSet object</returns>
	public DataSet GetDataSet()
	{
	  return DataObject.GetDataSet();
	}

	/// <summary>
	/// Get DataSet using the SearchEntity object
	/// </summary>
	/// <returns>A DatSet object</returns>
	public DataSet GetDataSetUsingSearchFilters()
	{
	  DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.Search;

	  // Create connection
	  DataObject.CommandObject.Connection = DataProvider.CreateConnection(DataProvider.ConnectString);

	  return DataProvider.GetDataSet(DataObject.CommandObject);
	}
	#endregion

	#region InitSearchFilter Method
	/// <summary>
	/// Re-Initialize a 'SearchEntity' property
	/// </summary>
	public void InitSearchFilter()
	{
	  // Initialize Search Entity
	  SearchEntity = InitSearchFilter(SearchEntity);
	}

	/// <summary>
	/// Re-Initialize a Search Entity object
	/// Usually you will use this to set the SearchEntity object
	/// 
	/// AccessPortalCommandChoicePDSA.SearchEntity = mgr.InitSearchFilter(AccessPortalCommandChoicePDSA.SearchEntity);
	/// </summary>
	/// <param name="searchEntity">A AccessPortalCommandChoicePDSA object</param>
	/// <returns>An AccessPortalCommandChoicePDSA object</returns>
	public AccessPortalCommandChoicePDSA InitSearchFilter(AccessPortalCommandChoicePDSA searchEntity)
	{
	  searchEntity.Display  = string.Empty;

	  searchEntity.IsDirty = false;

	  DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.All;
	 
	  return searchEntity;
	}
	#endregion

	#region Insert Method
	/// <summary>
	/// Insert a new entity into the GCS.AccessPortalCommandChoice table
	/// </summary>
	/// <param name="entity">An AccessPortalCommandChoicePDSA entity object</param>
	/// <returns>Number of rows affected by the Insert</returns>
	public int Insert(AccessPortalCommandChoicePDSA entity)
	{
	  int ret = 0;

	  Entity = entity;
	  DataObject.Entity = entity;
	  ret = DataObject.Insert();
	  if(ret >= 1)
		TrackChanges("Insert");

	  return ret;
	}
	#endregion

	#region Update Method
	/// <summary>
	/// Updates an entity in the GCS.AccessPortalCommandChoice table
	/// </summary>
	/// <param name="entity">An AccessPortalCommandChoicePDSA entity object</param>
	/// <returns>Number of rows affected by the Update</returns>
	public int Update(AccessPortalCommandChoicePDSA entity)
	{
	  int ret = 0;

	  Entity = entity;
	  DataObject.Entity = entity;
	  ret = DataObject.Update();
	  if(ret >= 1)
		TrackChanges("Update");

	  return ret;
	}
	#endregion

	#region Delete Method
	/// <summary>
	/// Deletes an entity from the GCS.AccessPortalCommandChoice table
	/// </summary>
	/// <param name="entity">An AccessPortalCommandChoicePDSA entity object</param>
	/// <returns>Number of rows affected by the Delete</returns>
	public int Delete(AccessPortalCommandChoicePDSA entity)
	{
	  int ret = 0;

	  Entity = entity;
	  DataObject.Entity = entity;
	  ret = DataObject.DeleteByPK(entity.AccessPortalCommandChoiceUid);
	  if(ret >= 1)
		TrackChanges("Delete");

	  return ret;
	}
	#endregion
  
	
	
	#region GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceAccessPortalEntity Method
	public AccessPortalCommandChoicePDSACollection GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceAccessPortalEntity(AccessPortalCommandPDSA entity)
	{
	  if (entity != null)
	  {
		 try
		 {
		   if(DataObject.UseStoredProcs)
		   {
			 DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.ByAccessPortalCommandUid;
		   }
		   else
		   {
		   }
		   
		   Entity.AccessPortalCommandUid = entity.AccessPortalCommandUid;
		 }
		 catch (Exception ex)
		 {
			// This is here for design time exceptions
			System.Diagnostics.Debug.WriteLine(ex.Message);
			var innerEx = ex.InnerException;
			while( innerEx != null)
			{
				System.Diagnostics.Debug.WriteLine(innerEx.Message);
				innerEx = innerEx.InnerException;
			}
		 }
			
		 return BuildCollection();
	  }
	  else
		return new AccessPortalCommandChoicePDSACollection();
	}
	#endregion

	#region GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceAccessPortal Method
	public AccessPortalCommandChoicePDSACollection GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceAccessPortal(Guid accessPortalCommandUid)
	{
	  try
	  {
		if(DataObject.UseStoredProcs)
		{
		  DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.ByAccessPortalCommandUid;
		}
		else
		{
		}
		
		Entity.AccessPortalCommandUid = accessPortalCommandUid;
	  }
	  catch (Exception ex)
	  {
		// This is here for design time exceptions
		System.Diagnostics.Debug.WriteLine(ex.Message);
		var innerEx = ex.InnerException;
		while( innerEx != null)
		{
			System.Diagnostics.Debug.WriteLine(innerEx.Message);
			innerEx = innerEx.InnerException;
		}
	  }
			
	  return BuildCollection();
	}
	#endregion
	
	//#region GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceDisplayResourceKeyEntity Method
	//public AccessPortalCommandChoicePDSACollection GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceDisplayResourceKeyEntity(gcsResourceStringPDSA entity)
	//{
	//  if (entity != null)
	//  {
	//	 try
	//	 {
	//	   if(DataObject.UseStoredProcs)
	//	   {
	//		 DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.ByDisplayResourceKey;
	//	   }
	//	   else
	//	   {
	//	   }
		   
	//	   Entity.DisplayResourceKey = entity.ResourceId;
	//	 }
	//	 catch (Exception ex)
	//	 {
	//		// This is here for design time exceptions
	//		System.Diagnostics.Debug.WriteLine(ex.Message);
	//		var innerEx = ex.InnerException;
	//		while( innerEx != null)
	//		{
	//			System.Diagnostics.Debug.WriteLine(innerEx.Message);
	//			innerEx = innerEx.InnerException;
	//		}
	//	 }
			
	//	 return BuildCollection();
	//  }
	//  else
	//	return new AccessPortalCommandChoicePDSACollection();
	//}
	//#endregion

	//#region GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceDisplayResourceKey Method
	//public AccessPortalCommandChoicePDSACollection GetAccessPortalCommandChoicePDSAsByFK_AccessPortalCommandChoiceDisplayResourceKey(Guid resourceId)
	//{
	//  try
	//  {
	//	if(DataObject.UseStoredProcs)
	//	{
	//	  DataObject.SelectFilter = AccessPortalCommandChoicePDSAData.SelectFilters.ByDisplayResourceKey;
	//	}
	//	else
	//	{
	//	}
		
	//	Entity.DisplayResourceKey = resourceId;
	//  }
	//  catch (Exception ex)
	//  {
	//	// This is here for design time exceptions
	//	System.Diagnostics.Debug.WriteLine(ex.Message);
	//	var innerEx = ex.InnerException;
	//	while( innerEx != null)
	//	{
	//		System.Diagnostics.Debug.WriteLine(innerEx.Message);
	//		innerEx = innerEx.InnerException;
	//	}
	//  }
			
	//  return BuildCollection();
	//}
	//#endregion
	
  }
}

